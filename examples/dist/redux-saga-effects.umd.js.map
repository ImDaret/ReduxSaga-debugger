{"version":3,"file":"redux-saga-effects.umd.js","sources":["../../../node_modules/@babel/runtime/helpers/esm/extends.js","../../symbols/src/index.js","../../delay-p/src/index.js","../../is/src/index.js","../../core/src/internal/utils.js","../../core/src/internal/effectTypes.js","../../core/src/internal/io.js","../../core/src/internal/sagaHelpers/fsmIterator.js","../../core/src/internal/sagaHelpers/takeEvery.js","../../core/src/internal/sagaHelpers/takeLatest.js","../../core/src/internal/sagaHelpers/takeLeading.js","../../core/src/internal/buffers.js","../../core/src/internal/sagaHelpers/throttle.js","../../core/src/internal/sagaHelpers/retry.js","../../core/src/internal/sagaHelpers/debounce.js","../../core/src/internal/io-helpers.js"],"sourcesContent":["export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","const createSymbol = name => `@@redux-saga/${name}`\n\nexport const CANCEL = createSymbol('CANCEL_PROMISE')\nexport const CHANNEL_END_TYPE = createSymbol('CHANNEL_END')\nexport const IO = createSymbol('IO')\nexport const MATCH = createSymbol('MATCH')\nexport const MULTICAST = createSymbol('MULTICAST')\nexport const SAGA_ACTION = createSymbol('SAGA_ACTION')\nexport const SELF_CANCELLATION = createSymbol('SELF_CANCELLATION')\nexport const TASK = createSymbol('TASK')\nexport const TASK_CANCEL = createSymbol('TASK_CANCEL')\nexport const TERMINATE = createSymbol('TERMINATE')\n\nexport const SAGA_LOCATION = createSymbol('LOCATION')\n","import { CANCEL } from '@redux-saga/symbols'\n\nconst MAX_SIGNED_INT = 2147483647\n\nexport default function delayP(ms, val = true) {\n  // https://developer.mozilla.org/en-US/docs/Web/API/setTimeout#maximum_delay_value\n  if (process.env.NODE_ENV !== 'production' && ms > MAX_SIGNED_INT) {\n    throw new Error('delay only supports a maximum value of ' + MAX_SIGNED_INT + 'ms')\n  }\n  let timeoutId\n  const promise = new Promise(resolve => {\n    timeoutId = setTimeout(resolve, Math.min(MAX_SIGNED_INT, ms), val)\n  })\n\n  promise[CANCEL] = () => {\n    clearTimeout(timeoutId)\n  }\n\n  return promise\n}\n","import { TASK, MULTICAST, IO, SAGA_ACTION } from '@redux-saga/symbols'\n\nexport const undef = v => v === null || v === undefined\nexport const notUndef = v => v !== null && v !== undefined\nexport const func = f => typeof f === 'function'\nexport const number = n => typeof n === 'number'\nexport const string = s => typeof s === 'string'\nexport const array = Array.isArray\nexport const object = obj => obj && !array(obj) && typeof obj === 'object'\nexport const promise = p => p && func(p.then)\nexport const iterator = it => it && func(it.next) && func(it.throw)\nexport const iterable = it => (it && func(Symbol) ? func(it[Symbol.iterator]) : array(it))\nexport const task = t => t && t[TASK]\nexport const sagaAction = a => Boolean(a && a[SAGA_ACTION])\nexport const observable = ob => ob && func(ob.subscribe)\nexport const buffer = buf => buf && func(buf.isEmpty) && func(buf.take) && func(buf.put)\nexport const pattern = pat => pat && (string(pat) || symbol(pat) || func(pat) || (array(pat) && pat.every(pattern)))\nexport const channel = ch => ch && func(ch.take) && func(ch.close)\nexport const stringableFunc = f => func(f) && f.hasOwnProperty('toString')\nexport const symbol = sym =>\n  Boolean(sym) && typeof Symbol === 'function' && sym.constructor === Symbol && sym !== Symbol.prototype\nexport const multicast = ch => channel(ch) && ch[MULTICAST]\nexport const effect = eff => eff && eff[IO]\n","import _extends from '@babel/runtime/helpers/extends'\nimport * as is from '@redux-saga/is'\nimport { SAGA_LOCATION, SAGA_ACTION, TASK_CANCEL, TERMINATE } from '@redux-saga/symbols'\n\nexport const konst = v => () => v\nexport const kTrue = konst(true)\nexport const kFalse = konst(false)\n\nlet noop = () => {}\n\nif (process.env.NODE_ENV !== 'production' && typeof Proxy !== 'undefined') {\n  noop = new Proxy(noop, {\n    set: () => {\n      throw internalErr('There was an attempt to assign a property to internal `noop` function.')\n    },\n  })\n}\n\nexport { noop }\n\nexport const identity = v => v\n\nconst hasSymbol = typeof Symbol === 'function'\nexport const asyncIteratorSymbol = hasSymbol && Symbol.asyncIterator ? Symbol.asyncIterator : '@@asyncIterator'\n\nexport function check(value, predicate, error) {\n  if (!predicate(value)) {\n    throw new Error(error)\n  }\n}\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty\nexport function hasOwn(object, property) {\n  return is.notUndef(object) && hasOwnProperty.call(object, property)\n}\n\nexport const assignWithSymbols = (target, source) => {\n  _extends(target, source)\n\n  if (Object.getOwnPropertySymbols) {\n    Object.getOwnPropertySymbols(source).forEach(s => {\n      target[s] = source[s]\n    })\n  }\n}\n\nexport const flatMap = (mapper, arr) => [].concat(...arr.map(mapper))\n\nexport function remove(array, item) {\n  const index = array.indexOf(item)\n  if (index >= 0) {\n    array.splice(index, 1)\n  }\n}\n\nexport function once(fn) {\n  let called = false\n  return () => {\n    if (called) {\n      return\n    }\n    called = true\n    fn()\n  }\n}\n\nconst kThrow = err => {\n  throw err\n}\nconst kReturn = value => ({ value, done: true })\nexport function makeIterator(next, thro = kThrow, name = 'iterator') {\n  const iterator = { meta: { name }, next, throw: thro, return: kReturn, isSagaIterator: true }\n\n  if (typeof Symbol !== 'undefined') {\n    iterator[Symbol.iterator] = () => iterator\n  }\n  return iterator\n}\n\nexport function logError(error, { sagaStack }) {\n  /*eslint-disable no-console*/\n  console.error(error)\n  console.error(sagaStack)\n}\n\nexport function deprecate(fn, deprecationWarning) {\n  return (...args) => {\n    if (process.env.NODE_ENV !== 'production') console.warn(deprecationWarning)\n    return fn(...args)\n  }\n}\n\nexport const internalErr = err =>\n  new Error(\n    `\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: ${err}\n`,\n  )\n\nexport const createSetContextWarning = (ctx, props) =>\n  `${ctx ? ctx + '.' : ''}setContext(props): argument ${props} is not a plain object`\n\nconst FROZEN_ACTION_ERROR = `You can't put (a.k.a. dispatch from saga) frozen actions.\nWe have to define a special non-enumerable property on those actions for scheduling purposes.\nOtherwise you wouldn't be able to communicate properly between sagas & other subscribers (action ordering would become far less predictable).\nIf you are using redux and you care about this behaviour (frozen actions),\nthen you might want to switch to freezing actions in a middleware rather than in action creator.\nExample implementation:\n\nconst freezeActions = store => next => action => next(Object.freeze(action))\n`\n\n// creates empty, but not-holey array\nexport const createEmptyArray = n => Array.apply(null, new Array(n))\n\nexport const wrapSagaDispatch = dispatch => action => {\n  if (process.env.NODE_ENV !== 'production') {\n    check(action, ac => !Object.isFrozen(ac), FROZEN_ACTION_ERROR)\n  }\n  return dispatch(Object.defineProperty(action, SAGA_ACTION, { value: true }))\n}\n\nexport const shouldTerminate = res => res === TERMINATE\nexport const shouldCancel = res => res === TASK_CANCEL\nexport const shouldComplete = res => shouldTerminate(res) || shouldCancel(res)\n\nexport function createAllStyleChildCallbacks(shape, parentCallback) {\n  const keys = Object.keys(shape)\n  const totalCount = keys.length\n\n  if (process.env.NODE_ENV !== 'production') {\n    check(totalCount, c => c > 0, 'createAllStyleChildCallbacks: get an empty array or object')\n  }\n\n  let completedCount = 0\n  let completed\n  const results = is.array(shape) ? createEmptyArray(totalCount) : {}\n  const childCallbacks = {}\n\n  function checkEnd() {\n    if (completedCount === totalCount) {\n      completed = true\n      parentCallback(results)\n    }\n  }\n\n  keys.forEach(key => {\n    const chCbAtKey = (res, isErr) => {\n      if (completed) {\n        return\n      }\n      if (isErr || shouldComplete(res)) {\n        parentCallback.cancel()\n        parentCallback(res, isErr)\n      } else {\n        results[key] = res\n        completedCount++\n        checkEnd()\n      }\n    }\n    chCbAtKey.cancel = noop\n    childCallbacks[key] = chCbAtKey\n  })\n\n  parentCallback.cancel = () => {\n    if (!completed) {\n      completed = true\n      keys.forEach(key => childCallbacks[key].cancel())\n    }\n  }\n\n  return childCallbacks\n}\n\nexport function getMetaInfo(fn) {\n  return {\n    name: fn.name || 'anonymous',\n    location: getLocation(fn),\n  }\n}\n\nexport function getLocation(instrumented) {\n  return instrumented[SAGA_LOCATION]\n}\n","export const TAKE = 'TAKE'\nexport const PUT = 'PUT'\nexport const ALL = 'ALL'\nexport const RACE = 'RACE'\nexport const CALL = 'CALL'\nexport const CPS = 'CPS'\nexport const FORK = 'FORK'\nexport const JOIN = 'JOIN'\nexport const CANCEL = 'CANCEL'\nexport const SELECT = 'SELECT'\nexport const ACTION_CHANNEL = 'ACTION_CHANNEL'\nexport const CANCELLED = 'CANCELLED'\nexport const FLUSH = 'FLUSH'\nexport const GET_CONTEXT = 'GET_CONTEXT'\nexport const SET_CONTEXT = 'SET_CONTEXT'\n","import delayP from '@redux-saga/delay-p'\nimport * as is from '@redux-saga/is'\nimport { IO, SELF_CANCELLATION } from '@redux-saga/symbols'\nimport { check, createSetContextWarning, identity } from './utils'\nimport * as effectTypes from './effectTypes'\n\nconst TEST_HINT =\n  '\\n(HINT: if you are getting these errors in tests, consider using createMockTask from @redux-saga/testing-utils)'\n\nconst makeEffect = (type, payload) => ({\n  [IO]: true,\n  // this property makes all/race distinguishable in generic manner from other effects\n  // currently it's not used at runtime at all but it's here to satisfy type systems\n  combinator: false,\n  type,\n  payload,\n})\n\nconst isForkEffect = eff => is.effect(eff) && eff.type === effectTypes.FORK\n\nexport const detach = eff => {\n  if (process.env.NODE_ENV !== 'production') {\n    check(eff, isForkEffect, 'detach(eff): argument must be a fork effect')\n  }\n  return makeEffect(effectTypes.FORK, { ...eff.payload, detached: true })\n}\n\nexport function take(patternOrChannel = '*', multicastPattern) {\n  if (process.env.NODE_ENV !== 'production' && arguments.length) {\n    check(arguments[0], is.notUndef, 'take(patternOrChannel): patternOrChannel is undefined')\n  }\n  if (is.pattern(patternOrChannel)) {\n    if (is.notUndef(multicastPattern)) {\n      console.warn(`take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types`)\n    }\n    return makeEffect(effectTypes.TAKE, { pattern: patternOrChannel })\n  }\n  if (is.multicast(patternOrChannel) && is.notUndef(multicastPattern) && is.pattern(multicastPattern)) {\n    return makeEffect(effectTypes.TAKE, { channel: patternOrChannel, pattern: multicastPattern })\n  }\n  if (is.channel(patternOrChannel)) {\n    if (is.notUndef(multicastPattern)) {\n      console.warn(`take(channel) takes one argument but two were provided. Second argument is ignored.`)\n    }\n    return makeEffect(effectTypes.TAKE, { channel: patternOrChannel })\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    throw new Error(`take(patternOrChannel): argument ${patternOrChannel} is not valid channel or a valid pattern`)\n  }\n}\n\nexport const takeMaybe = (...args) => {\n  const eff = take(...args)\n  eff.payload.maybe = true\n  return eff\n}\n\nexport function put(channel, action) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (arguments.length > 1) {\n      check(channel, is.notUndef, 'put(channel, action): argument channel is undefined')\n      check(channel, is.channel, `put(channel, action): argument ${channel} is not a valid channel`)\n      check(action, is.notUndef, 'put(channel, action): argument action is undefined')\n    } else {\n      check(channel, is.notUndef, 'put(action): argument action is undefined')\n    }\n  }\n  if (is.undef(action)) {\n    action = channel\n    // `undefined` instead of `null` to make default parameter work\n    channel = undefined\n  }\n  return makeEffect(effectTypes.PUT, { channel, action })\n}\n\nexport const putResolve = (...args) => {\n  const eff = put(...args)\n  eff.payload.resolve = true\n  return eff\n}\n\nexport function all(effects) {\n  const eff = makeEffect(effectTypes.ALL, effects)\n  eff.combinator = true\n  return eff\n}\n\nexport function race(effects) {\n  const eff = makeEffect(effectTypes.RACE, effects)\n  eff.combinator = true\n  return eff\n}\n\n// this match getFnCallDescriptor logic\nconst validateFnDescriptor = (effectName, fnDescriptor) => {\n  check(fnDescriptor, is.notUndef, `${effectName}: argument fn is undefined or null`)\n\n  if (is.func(fnDescriptor)) {\n    return\n  }\n\n  let context = null\n  let fn\n\n  if (is.array(fnDescriptor)) {\n    ;[context, fn] = fnDescriptor\n    check(fn, is.notUndef, `${effectName}: argument of type [context, fn] has undefined or null \\`fn\\``)\n  } else if (is.object(fnDescriptor)) {\n    ;({ context, fn } = fnDescriptor)\n    check(fn, is.notUndef, `${effectName}: argument of type {context, fn} has undefined or null \\`fn\\``)\n  } else {\n    check(fnDescriptor, is.func, `${effectName}: argument fn is not function`)\n    return\n  }\n\n  if (context && is.string(fn)) {\n    check(context[fn], is.func, `${effectName}: context arguments has no such method - \"${fn}\"`)\n    return\n  }\n\n  check(fn, is.func, `${effectName}: unpacked fn argument (from [context, fn] or {context, fn}) is not a function`)\n}\n\nfunction getFnCallDescriptor(fnDescriptor, args) {\n  let context = null\n  let fn\n\n  if (is.func(fnDescriptor)) {\n    fn = fnDescriptor\n  } else {\n    if (is.array(fnDescriptor)) {\n      ;[context, fn] = fnDescriptor\n    } else {\n      ;({ context, fn } = fnDescriptor)\n    }\n\n    if (context && is.string(fn) && is.func(context[fn])) {\n      fn = context[fn]\n    }\n  }\n\n  return { context, fn, args }\n}\n\nconst isNotDelayEffect = fn => fn !== delay\n\nexport function call(fnDescriptor, ...args) {\n  if (process.env.NODE_ENV !== 'production') {\n    const arg0 = typeof args[0] === 'number' ? args[0] : 'ms'\n    check(\n      fnDescriptor,\n      isNotDelayEffect,\n      `instead of writing \\`yield call(delay, ${arg0})\\` where delay is an effect from \\`redux-saga/effects\\` you should write \\`yield delay(${arg0})\\``,\n    )\n    validateFnDescriptor('call', fnDescriptor)\n  }\n  return makeEffect(effectTypes.CALL, getFnCallDescriptor(fnDescriptor, args))\n}\n\nexport function apply(context, fn, args = []) {\n  const fnDescriptor = [context, fn]\n\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('apply', fnDescriptor)\n  }\n\n  return makeEffect(effectTypes.CALL, getFnCallDescriptor([context, fn], args))\n}\n\nexport function cps(fnDescriptor, ...args) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('cps', fnDescriptor)\n  }\n  return makeEffect(effectTypes.CPS, getFnCallDescriptor(fnDescriptor, args))\n}\n\nexport function fork(fnDescriptor, ...args) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('fork', fnDescriptor)\n\n    check(fnDescriptor, arg => !is.effect(arg), 'fork: argument must not be an effect')\n  }\n  return makeEffect(effectTypes.FORK, getFnCallDescriptor(fnDescriptor, args))\n}\n\nexport function spawn(fnDescriptor, ...args) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('spawn', fnDescriptor)\n  }\n  return detach(fork(fnDescriptor, ...args))\n}\n\nexport function join(taskOrTasks) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (arguments.length > 1) {\n      throw new Error('join(...tasks) is not supported any more. Please use join([...tasks]) to join multiple tasks.')\n    }\n    if (is.array(taskOrTasks)) {\n      taskOrTasks.forEach(t => {\n        check(t, is.task, `join([...tasks]): argument ${t} is not a valid Task object ${TEST_HINT}`)\n      })\n    } else {\n      check(taskOrTasks, is.task, `join(task): argument ${taskOrTasks} is not a valid Task object ${TEST_HINT}`)\n    }\n  }\n\n  return makeEffect(effectTypes.JOIN, taskOrTasks)\n}\n\nexport function cancel(taskOrTasks = SELF_CANCELLATION) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (arguments.length > 1) {\n      throw new Error(\n        'cancel(...tasks) is not supported any more. Please use cancel([...tasks]) to cancel multiple tasks.',\n      )\n    }\n    if (is.array(taskOrTasks)) {\n      taskOrTasks.forEach(t => {\n        check(t, is.task, `cancel([...tasks]): argument ${t} is not a valid Task object ${TEST_HINT}`)\n      })\n    } else if (taskOrTasks !== SELF_CANCELLATION && is.notUndef(taskOrTasks)) {\n      check(taskOrTasks, is.task, `cancel(task): argument ${taskOrTasks} is not a valid Task object ${TEST_HINT}`)\n    }\n  }\n\n  return makeEffect(effectTypes.CANCEL, taskOrTasks)\n}\n\nexport function select(selector = identity, ...args) {\n  if (process.env.NODE_ENV !== 'production' && arguments.length) {\n    check(arguments[0], is.notUndef, 'select(selector, [...]): argument selector is undefined')\n    check(selector, is.func, `select(selector, [...]): argument ${selector} is not a function`)\n  }\n  return makeEffect(effectTypes.SELECT, { selector, args })\n}\n\n/**\n  channel(pattern, [buffer])    => creates a proxy channel for store actions\n**/\nexport function actionChannel(pattern, buffer) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(pattern, is.pattern, 'actionChannel(pattern,...): argument pattern is not valid')\n\n    if (arguments.length > 1) {\n      check(buffer, is.notUndef, 'actionChannel(pattern, buffer): argument buffer is undefined')\n      check(buffer, is.buffer, `actionChannel(pattern, buffer): argument ${buffer} is not a valid buffer`)\n    }\n  }\n\n  return makeEffect(effectTypes.ACTION_CHANNEL, { pattern, buffer })\n}\n\nexport function cancelled() {\n  return makeEffect(effectTypes.CANCELLED, {})\n}\n\nexport function flush(channel) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(channel, is.channel, `flush(channel): argument ${channel} is not valid channel`)\n  }\n\n  return makeEffect(effectTypes.FLUSH, channel)\n}\n\nexport function getContext(prop) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(prop, is.string, `getContext(prop): argument ${prop} is not a string`)\n  }\n\n  return makeEffect(effectTypes.GET_CONTEXT, prop)\n}\n\nexport function setContext(props) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(props, is.object, createSetContextWarning(null, props))\n  }\n\n  return makeEffect(effectTypes.SET_CONTEXT, props)\n}\n\nexport const delay = call.bind(null, delayP)\n","import * as is from '@redux-saga/is'\nimport { makeIterator } from '../utils'\n\nconst done = value => ({ done: true, value })\nexport const qEnd = {}\n\nexport function safeName(patternOrChannel) {\n  if (is.channel(patternOrChannel)) {\n    return 'channel'\n  }\n\n  if (is.stringableFunc(patternOrChannel)) {\n    return String(patternOrChannel)\n  }\n\n  if (is.func(patternOrChannel)) {\n    return patternOrChannel.name\n  }\n\n  return String(patternOrChannel)\n}\n\nexport default function fsmIterator(fsm, startState, name) {\n  let stateUpdater,\n    errorState,\n    effect,\n    nextState = startState\n\n  function next(arg, error) {\n    if (nextState === qEnd) {\n      return done(arg)\n    }\n    if (error && !errorState) {\n      nextState = qEnd\n      throw error\n    } else {\n      stateUpdater && stateUpdater(arg)\n      const currentState = error ? fsm[errorState](error) : fsm[nextState]()\n      ;({ nextState, effect, stateUpdater, errorState } = currentState)\n      return nextState === qEnd ? done(arg) : effect\n    }\n  }\n\n  return makeIterator(next, error => next(null, error), name)\n}\n","import fsmIterator, { safeName } from './fsmIterator'\nimport { take, fork } from '../io'\n\nexport default function takeEvery(patternOrChannel, worker, ...args) {\n  const yTake = { done: false, value: take(patternOrChannel) }\n  const yFork = ac => ({ done: false, value: fork(worker, ...args, ac) })\n\n  let action,\n    setAction = ac => (action = ac)\n\n  return fsmIterator(\n    {\n      q1() {\n        return { nextState: 'q2', effect: yTake, stateUpdater: setAction }\n      },\n      q2() {\n        return { nextState: 'q1', effect: yFork(action) }\n      },\n    },\n    'q1',\n    `takeEvery(${safeName(patternOrChannel)}, ${worker.name})`,\n  )\n}\n","import fsmIterator, { safeName } from './fsmIterator'\nimport { cancel, take, fork } from '../io'\n\nexport default function takeLatest(patternOrChannel, worker, ...args) {\n  const yTake = { done: false, value: take(patternOrChannel) }\n  const yFork = ac => ({ done: false, value: fork(worker, ...args, ac) })\n  const yCancel = task => ({ done: false, value: cancel(task) })\n\n  let task, action\n  const setTask = t => (task = t)\n  const setAction = ac => (action = ac)\n\n  return fsmIterator(\n    {\n      q1() {\n        return { nextState: 'q2', effect: yTake, stateUpdater: setAction }\n      },\n      q2() {\n        return task\n          ? { nextState: 'q3', effect: yCancel(task) }\n          : { nextState: 'q1', effect: yFork(action), stateUpdater: setTask }\n      },\n      q3() {\n        return { nextState: 'q1', effect: yFork(action), stateUpdater: setTask }\n      },\n    },\n    'q1',\n    `takeLatest(${safeName(patternOrChannel)}, ${worker.name})`,\n  )\n}\n","import fsmIterator, { safeName } from './fsmIterator'\nimport { take, call } from '../io'\n\nexport default function takeLeading(patternOrChannel, worker, ...args) {\n  const yTake = { done: false, value: take(patternOrChannel) }\n  const yCall = ac => ({ done: false, value: call(worker, ...args, ac) })\n\n  let action\n  const setAction = ac => (action = ac)\n\n  return fsmIterator(\n    {\n      q1() {\n        return { nextState: 'q2', effect: yTake, stateUpdater: setAction }\n      },\n      q2() {\n        return { nextState: 'q1', effect: yCall(action) }\n      },\n    },\n    'q1',\n    `takeLeading(${safeName(patternOrChannel)}, ${worker.name})`,\n  )\n}\n","import { kTrue, noop } from './utils'\n\nconst BUFFER_OVERFLOW = \"Channel's Buffer overflow!\"\n\nconst ON_OVERFLOW_THROW = 1\nconst ON_OVERFLOW_DROP = 2\nconst ON_OVERFLOW_SLIDE = 3\nconst ON_OVERFLOW_EXPAND = 4\n\nconst zeroBuffer = { isEmpty: kTrue, put: noop, take: noop }\n\nfunction ringBuffer(limit = 10, overflowAction) {\n  let arr = new Array(limit)\n  let length = 0\n  let pushIndex = 0\n  let popIndex = 0\n\n  const push = it => {\n    arr[pushIndex] = it\n    pushIndex = (pushIndex + 1) % limit\n    length++\n  }\n\n  const take = () => {\n    if (length != 0) {\n      let it = arr[popIndex]\n      arr[popIndex] = null\n      length--\n      popIndex = (popIndex + 1) % limit\n      return it\n    }\n  }\n\n  const flush = () => {\n    let items = []\n    while (length) {\n      items.push(take())\n    }\n    return items\n  }\n\n  return {\n    isEmpty: () => length == 0,\n    put: it => {\n      if (length < limit) {\n        push(it)\n      } else {\n        let doubledLimit\n        switch (overflowAction) {\n          case ON_OVERFLOW_THROW:\n            throw new Error(BUFFER_OVERFLOW)\n          case ON_OVERFLOW_SLIDE:\n            arr[pushIndex] = it\n            pushIndex = (pushIndex + 1) % limit\n            popIndex = pushIndex\n            break\n          case ON_OVERFLOW_EXPAND:\n            doubledLimit = 2 * limit\n\n            arr = flush()\n\n            length = arr.length\n            pushIndex = arr.length\n            popIndex = 0\n\n            arr.length = doubledLimit\n            limit = doubledLimit\n\n            push(it)\n            break\n          default:\n          // DROP\n        }\n      }\n    },\n    take,\n    flush,\n  }\n}\n\nexport const none = () => zeroBuffer\nexport const fixed = limit => ringBuffer(limit, ON_OVERFLOW_THROW)\nexport const dropping = limit => ringBuffer(limit, ON_OVERFLOW_DROP)\nexport const sliding = limit => ringBuffer(limit, ON_OVERFLOW_SLIDE)\nexport const expanding = initialSize => ringBuffer(initialSize, ON_OVERFLOW_EXPAND)\n","import fsmIterator, { safeName } from './fsmIterator'\nimport { take, fork, actionChannel, delay } from '../io'\nimport * as buffers from '../buffers'\n\nexport default function throttle(delayLength, pattern, worker, ...args) {\n  let action, channel\n\n  const yActionChannel = { done: false, value: actionChannel(pattern, buffers.sliding(1)) }\n  const yTake = () => ({ done: false, value: take(channel) })\n  const yFork = ac => ({ done: false, value: fork(worker, ...args, ac) })\n  const yDelay = { done: false, value: delay(delayLength) }\n\n  const setAction = ac => (action = ac)\n  const setChannel = ch => (channel = ch)\n\n  return fsmIterator(\n    {\n      q1() {\n        return { nextState: 'q2', effect: yActionChannel, stateUpdater: setChannel }\n      },\n      q2() {\n        return { nextState: 'q3', effect: yTake(), stateUpdater: setAction }\n      },\n      q3() {\n        return { nextState: 'q4', effect: yFork(action) }\n      },\n      q4() {\n        return { nextState: 'q2', effect: yDelay }\n      },\n    },\n    'q1',\n    `throttle(${safeName(pattern)}, ${worker.name})`,\n  )\n}\n","import fsmIterator, { qEnd } from './fsmIterator'\nimport { call, delay } from '../io'\n\nexport default function retry(maxTries, delayLength, fn, ...args) {\n  let counter = maxTries\n\n  const yCall = { done: false, value: call(fn, ...args) }\n  const yDelay = { done: false, value: delay(delayLength) }\n\n  return fsmIterator(\n    {\n      q1() {\n        return {nextState: 'q2', effect: yCall, errorState: 'q10'}\n      },\n      q2() {\n        return {nextState: qEnd}\n      },\n      q10 (error) {\n        counter -= 1\n        if (counter <= 0) {\n          throw error\n        }\n        return {nextState: 'q1', effect: yDelay}\n      },\n    },\n    'q1',\n    `retry(${fn.name})`,\n  )\n}\n","import fsmIterator, { safeName } from './fsmIterator'\nimport { delay, fork, race, take } from '../io'\n\nexport default function debounceHelper(delayLength, patternOrChannel, worker, ...args) {\n  let action, raceOutput\n\n  const yTake = { done: false, value: take(patternOrChannel) }\n  const yRace = {\n    done: false,\n    value: race({\n      action: take(patternOrChannel),\n      debounce: delay(delayLength),\n    }),\n  }\n  const yFork = ac => ({ done: false, value: fork(worker, ...args, ac) })\n  const yNoop = value => ({ done: false, value })\n\n  const setAction = ac => (action = ac)\n  const setRaceOutput = ro => (raceOutput = ro)\n\n  return fsmIterator(\n    {\n      q1() {\n        return { nextState: 'q2', effect: yTake, stateUpdater: setAction }\n      },\n      q2() {\n        return { nextState: 'q3', effect: yRace, stateUpdater: setRaceOutput }\n      },\n      q3() {\n        return raceOutput.debounce\n          ? { nextState: 'q1', effect: yFork(action) }\n          : { nextState: 'q2', effect: yNoop(raceOutput.action), stateUpdater: setAction }\n      },\n    },\n    'q1',\n    `debounce(${safeName(patternOrChannel)}, ${worker.name})`,\n  )\n}\n","import * as is from '@redux-saga/is'\nimport { call, fork } from './io'\nimport { check } from './utils'\nimport {\n  takeEveryHelper,\n  takeLatestHelper,\n  takeLeadingHelper,\n  throttleHelper,\n  retryHelper,\n  debounceHelper,\n} from './sagaHelpers'\n\nconst validateTakeEffect = (fn, patternOrChannel, worker) => {\n  check(patternOrChannel, is.notUndef, `${fn.name} requires a pattern or channel`)\n  check(worker, is.notUndef, `${fn.name} requires a saga parameter`)\n}\n\nexport function takeEvery(patternOrChannel, worker, ...args) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateTakeEffect(takeEvery, patternOrChannel, worker)\n  }\n\n  return fork(takeEveryHelper, patternOrChannel, worker, ...args)\n}\n\nexport function takeLatest(patternOrChannel, worker, ...args) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateTakeEffect(takeLatest, patternOrChannel, worker)\n  }\n\n  return fork(takeLatestHelper, patternOrChannel, worker, ...args)\n}\n\nexport function takeLeading(patternOrChannel, worker, ...args) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateTakeEffect(takeLeading, patternOrChannel, worker)\n  }\n\n  return fork(takeLeadingHelper, patternOrChannel, worker, ...args)\n}\n\nexport function throttle(ms, pattern, worker, ...args) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(pattern, is.notUndef, 'throttle requires a pattern')\n    check(worker, is.notUndef, 'throttle requires a saga parameter')\n  }\n\n  return fork(throttleHelper, ms, pattern, worker, ...args)\n}\n\nexport function retry(maxTries, delayLength, worker, ...args) {\n  return call(retryHelper, maxTries, delayLength, worker, ...args)\n}\n\nexport function debounce(delayLength, pattern, worker, ...args) {\n  return fork(debounceHelper, delayLength, pattern, worker, ...args)\n}\n"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","createSymbol","name","CANCEL","IO","MULTICAST","SELF_CANCELLATION","TASK","MAX_SIGNED_INT","delayP","ms","val","process","Error","timeoutId","promise","Promise","resolve","setTimeout","Math","min","clearTimeout","undef","v","undefined","notUndef","func","f","string","s","array","Array","isArray","object","obj","task","t","buffer","buf","isEmpty","take","put","pattern","pat","symbol","every","channel","ch","close","stringableFunc","sym","Boolean","Symbol","constructor","multicast","effect","eff","identity","check","value","predicate","error","kThrow","err","kReturn","done","makeIterator","next","thro","iterator","meta","throw","return","isSagaIterator","createSetContextWarning","ctx","props","TAKE","PUT","ALL","RACE","CALL","CPS","FORK","JOIN","SELECT","ACTION_CHANNEL","CANCELLED","FLUSH","GET_CONTEXT","SET_CONTEXT","TEST_HINT","makeEffect","type","payload","combinator","isForkEffect","is","effectTypes","detach","detached","patternOrChannel","multicastPattern","console","warn","takeMaybe","maybe","action","putResolve","all","effects","race","validateFnDescriptor","effectName","fnDescriptor","context","fn","getFnCallDescriptor","args","isNotDelayEffect","delay","arg0","cps","fork","arg","spawn","join","taskOrTasks","forEach","cancel","select","selector","actionChannel","cancelled","flush","getContext","prop","setContext","bind","qEnd","safeName","String","fsmIterator","fsm","startState","stateUpdater","errorState","nextState","currentState","takeEvery","worker","yTake","yFork","ac","setAction","q1","q2","takeLatest","yCancel","setTask","q3","takeLeading","yCall","BUFFER_OVERFLOW","ON_OVERFLOW_THROW","ON_OVERFLOW_SLIDE","ON_OVERFLOW_EXPAND","ringBuffer","limit","overflowAction","arr","pushIndex","popIndex","push","it","items","doubledLimit","sliding","throttle","delayLength","yActionChannel","buffers","yDelay","setChannel","q4","retry","maxTries","counter","q10","debounceHelper","raceOutput","yRace","debounce","yNoop","setRaceOutput","ro","validateTakeEffect","takeEveryHelper","takeLatestHelper","takeLeadingHelper","throttleHelper","retryHelper"],"mappings":"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"}